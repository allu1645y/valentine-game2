<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíë Our Love Story ¬∑ Valentine Puzzle üíë</title>
    
    <!-- CSS STARTS HERE -->
    <style>
        /* ========== ROMANTIC CSS ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            background: linear-gradient(45deg, #1a0f0f 0%, #2d1a1a 50%, #3d1e1e 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 16px;
            position: relative;
            overflow-x: hidden;
        }

        /* Romantic rose petal background */
        .petals {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .petal {
            position: absolute;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23ffb7c5" d="M50,20 C30,20 15,35 15,55 C15,75 30,90 50,90 C70,90 85,75 85,55 C85,35 70,20 50,20 Z M50,30 C65,30 75,40 75,55 C75,70 65,80 50,80 C35,80 25,70 25,55 C25,40 35,30 50,30 Z"/></svg>');
            background-size: contain;
            width: 30px;
            height: 30px;
            opacity: 0.6;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0.2; }
        }

        /* Main romantic card */
        .love-card {
            background: rgba(255, 245, 240, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 50px 50px 30px 30px;
            box-shadow: 0 40px 70px rgba(0, 0, 0, 0.5), 0 0 0 4px #d4af37, 0 0 0 8px #fff0e6;
            max-width: 800px;
            width: 100%;
            padding: 30px 25px 40px;
            position: relative;
            z-index: 10;
            border: 2px solid #ffd9e2;
        }

        /* Decorative corner hearts */
        .corner-heart {
            position: absolute;
            font-size: 2rem;
            color: #d44e6c;
            opacity: 0.4;
        }

        .heart-tl { top: 10px; left: 15px; }
        .heart-tr { top: 10px; right: 15px; }
        .heart-bl { bottom: 10px; left: 15px; }
        .heart-br { bottom: 10px; right: 15px; }

        /* Header with couple names */
        .love-header {
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 3px solid #ffb6c1;
            padding-bottom: 20px;
        }

        .names {
            font-size: 2.8rem;
            font-weight: bold;
            color: #a13d5f;
            text-shadow: 2px 2px 0 #ffd9e2, 4px 4px 0 #d4af37;
            letter-spacing: 2px;
        }

        .names span {
            display: inline-block;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.3); }
            28% { transform: scale(1); }
            42% { transform: scale(1.3); }
            70% { transform: scale(1); }
        }

        .love-quote {
            font-size: 1.2rem;
            color: #b3546b;
            font-style: italic;
            margin-top: 10px;
            font-family: 'Brush Script MT', cursive;
        }

        /* Story puzzle area */
        .story-section {
            background: #fff9f9;
            border-radius: 30px;
            padding: 20px;
            margin: 20px 0;
            border: 2px dashed #e6a4b4;
            position: relative;
        }

        .section-title {
            font-size: 1.5rem;
            color: #982b4b;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .puzzle-piece {
            background: #ffe4e9;
            border-radius: 20px;
            padding: 20px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 3px solid #ffb6c1;
            box-shadow: 0 5px 0 #c15b76;
            font-weight: bold;
            color: #a13153;
            font-size: 1rem;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            word-break: break-word;
        }

        .puzzle-piece:hover:not(.collected) {
            transform: scale(1.05);
            background: #ffd4dc;
            border-color: #ff8da1;
        }

        .puzzle-piece.collected {
            background: #fcc2d0;
            border-color: #d4af37;
            cursor: default;
            opacity: 0.8;
            box-shadow: 0 0 15px gold;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23d44e6c"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            background-size: 30px;
            background-repeat: no-repeat;
            background-position: 10px 10px;
        }

        /* Love meter */
        .love-meter {
            background: #ffeef2;
            border-radius: 60px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #ffb6c1;
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            color: #ad3f5e;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .meter-bar {
            height: 30px;
            background: #ffd9e2;
            border-radius: 30px;
            overflow: hidden;
            border: 2px solid white;
        }

        .meter-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff7b9c, #ff2d5a);
            border-radius: 30px;
            transition: width 0.5s;
            box-shadow: 0 0 10px #ff7b9c;
        }

        /* Romantic messages */
        .message-box {
            background: #fff0f3;
            border-radius: 60px;
            padding: 20px 25px;
            margin: 20px 0;
            text-align: center;
            border: 3px solid #ffb6c1;
            font-size: 1.3rem;
            color: #9f3e5c;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Brush Script MT', cursive;
        }

        /* Special buttons */
        .special-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 25px 0;
        }

        .romantic-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 60px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid white;
            box-shadow: 0 5px 0 #a14f65;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .romantic-btn.pink {
            background: #ff8da1;
            color: white;
        }

        .romantic-btn.gold {
            background: #d4af37;
            color: white;
        }

        .romantic-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 0 #a14f65;
        }

        .romantic-btn:active {
            transform: translateY(5px);
            box-shadow: 0 2px 0 #a14f65;
        }

        /* Share section */
        .share-section {
            background: #fff0f3;
            border-radius: 30px;
            padding: 20px;
            margin-top: 25px;
            border: 3px solid #d4af37;
            text-align: center;
        }

        .share-link {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .share-input {
            flex: 1;
            padding: 15px;
            border: 3px solid #ffb6c1;
            border-radius: 60px;
            font-size: 1rem;
            background: white;
            color: #333;
            min-width: 200px;
        }

        .copy-btn {
            background: #982b4b;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 60px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid #d4af37;
        }

        .copy-btn:hover {
            background: #b33b5e;
        }

        /* Puzzle completion message */
        .completion-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #fff0f5, #fff);
            padding: 40px;
            border-radius: 100px 100px 30px 30px;
            border: 8px solid #d4af37;
            z-index: 100;
            display: none;
            text-align: center;
            box-shadow: 0 0 100px rgba(212, 175, 55, 0.5);
            animation: floatIn 0.5s;
        }

        @keyframes floatIn {
            0% { transform: translate(-50%, -30%); opacity: 0; }
            100% { transform: translate(-50%, -50%); opacity: 1; }
        }

        /* Mobile responsive */
        @media (max-width: 600px) {
            .names { font-size: 2rem; }
            .puzzle-grid { gap: 8px; }
            .puzzle-piece { padding: 15px 5px; font-size: 0.9rem; min-height: 70px; }
        }
    </style>
    <!-- CSS ENDS HERE -->
</head>
<body>
    <!-- ROSE PETALS BACKGROUND (HTML) -->
    <div class="petals" id="petals"></div>

    <!-- MAIN LOVE CARD (HTML) -->
    <div class="love-card">
        <!-- Corner decorations -->
        <div class="corner-heart heart-tl">üíù</div>
        <div class="corner-heart heart-tr">üíñ</div>
        <div class="corner-heart heart-bl">üíó</div>
        <div class="corner-heart heart-br">üíì</div>

        <!-- Header with names (customize these!) -->
        <div class="love-header">
            <div class="names">
                <span>‚ù§Ô∏è</span> Alex <span>&</span> Sam <span>‚ù§Ô∏è</span>
            </div>
            <div class="love-quote">"Every love story is beautiful, but ours is my favorite"</div>
        </div>

        <!-- STORY PUZZLE SECTION (HTML) -->
        <div class="story-section">
            <div class="section-title">
                <span>üß©</span> Our Love Story Puzzle <span>üß©</span>
            </div>
            
            <!-- Puzzle grid -->
            <div class="puzzle-grid" id="puzzleGrid">
                <!-- Puzzle pieces will be generated by JS -->
            </div>

            <!-- Love meter -->
            <div class="love-meter">
                <div class="meter-label">
                    <span>üíï Love Completed</span>
                    <span id="lovePercentage">0%</span>
                </div>
                <div class="meter-bar">
                    <div class="meter-fill" id="loveMeter" style="width: 0%;"></div>
                </div>
            </div>
        </div>

        <!-- Romantic message box -->
        <div class="message-box" id="messageBox">
            üíå Collect all puzzle pieces to reveal our love story...
        </div>

        <!-- Special interaction buttons -->
        <div class="special-buttons">
            <button class="romantic-btn pink" id="surpriseBtn">
                <span>‚ú®</span> Click for Surprise <span>‚ú®</span>
            </button>
            <button class="romantic-btn gold" id="playMusicBtn">
                <span>üéµ</span> Our Song <span>üéµ</span>
            </button>
        </div>

        <!-- SHARE SECTION - GENERATE LINK TO SHARE -->
        <div class="share-section">
            <h3 style="color: #982b4b;">üíï Share this game with your love üíï</h3>
            <div class="share-link">
                <input type="text" class="share-input" id="shareLink" value="https://love-story-game.page/lovepuzzle" readonly>
                <button class="copy-btn" id="copyBtn">üìã Copy Link</button>
            </div>
            <p style="color: #b3546b; margin-top: 10px; font-size: 0.9rem;">
                Send this link to your girlfriend's phone! She'll love it üíù
            </p>
        </div>
    </div>

    <!-- COMPLETION POPUP (HTML) -->
    <div class="completion-message" id="completionMessage">
        <h1 style="color: #d44e6c; font-size: 2.5rem;">üíñ I LOVE YOU! üíñ</h1>
        <p style="font-size: 1.5rem; color: #982b4b; margin: 20px;">Will you be my Valentine forever?</p>
        <div style="display: flex; gap: 20px; justify-content: center;">
            <button class="romantic-btn pink" onclick="closeCompletion()" style="font-size: 1.5rem;">YES! üíï</button>
        </div>
    </div>

    <!-- JAVASCRIPT STARTS HERE -->
    <script>
        // ========== ROMANTIC JAVASCRIPT ==========

        // Customize these with your own love story!
        const YOUR_NAME = "Alok";     // <-- CHANGE THIS to your name
        const HER_NAME = "Riddhima";       // <-- CHANGE THIS to her name
        const COUPLE_NAMES = `${YOUR_NAME} & ${HER_NAME}`;

        // Update names in the header
        document.querySelector('.names').innerHTML = `<span>‚ù§Ô∏è</span> ${YOUR_NAME} <span>&</span> ${HER_NAME} <span>‚ù§Ô∏è</span>`;

        // Love story puzzle pieces - customize these!
        const puzzlePieces = [
            { id: 1, text: "üíë First met: In Lucknow Indranagr", collected: false },
            { id: 2, text: "üíã First date: In Oyo", collected: false },
            { id: 3, text: "üéÅ First gift: Dher sara ladaai jhagda", collected: false },
            { id: 4, text: "‚úàÔ∏è First trip: Nukhad tak chai peena bs", collected: false },
            { id: 5, text: "üéÇ Favorite memory: Uska sarmana", collected: false },
            { id: 6, text: "üíç The moment I knew: Jb usne call kiya ki aao neeche hu kha ho", collected: false },
            { id: 7, text: "üéµ Our song: Baazigar o Baazigar", collected: false },
            { id: 8, text: "üíï She makes me happy when... she smiles", collected: false },
            { id: 9, text: "üíù Valentine's promise: Forever love", collected: false }
        ];

        // Romantic messages that appear when collecting pieces
        const romanticMessages = [
            "üíñ I remember that day like it was yesterday...",
            "üíó That moment made my heart skip a beat!",
            "üíì Every memory with you is precious...",
            "üíï You make every day feel like Valentine's!",
            "üíò My heart belongs to you...",
            "üíù That's one of my favorite memories with you!",
            "üíû Every piece brings us closer together...",
            "üíñ You're the missing piece of my heart!",
            "üíó One more piece to complete our love story!"
        ];

        // Current game state
        let collectedCount = 0;
        let surpriseCount = 0;

        // Initialize puzzle grid
        function initPuzzle() {
            const grid = document.getElementById('puzzleGrid');
            grid.innerHTML = '';
            
            puzzlePieces.forEach((piece, index) => {
                const pieceDiv = document.createElement('div');
                pieceDiv.className = `puzzle-piece ${piece.collected ? 'collected' : ''}`;
                pieceDiv.id = `piece-${piece.id}`;
                
                if (piece.collected) {
                    pieceDiv.innerHTML = `üíù ${piece.text}`;
                } else {
                    pieceDiv.innerHTML = `‚ùì Puzzle Piece ${index + 1} ‚ùì`;
                }
                
                pieceDiv.onclick = () => collectPiece(piece.id);
                grid.appendChild(pieceDiv);
            });
            
            updateLoveMeter();
        }

        // Collect puzzle piece
        function collectPiece(id) {
            const piece = puzzlePieces.find(p => p.id === id);
            
            if (piece.collected) {
                showMessage('üíû You already collected this memory! üíû');
                return;
            }
            
            piece.collected = true;
            collectedCount++;
            
            // Update piece display
            const pieceEl = document.getElementById(`piece-${id}`);
            pieceEl.className = 'puzzle-piece collected';
            pieceEl.innerHTML = `üíù ${piece.text}`;
            
            // Show romantic message
            const randomMsg = romanticMessages[Math.floor(Math.random() * romanticMessages.length)];
            showMessage(randomMsg);
            
            // Create floating hearts celebration
            for (let i = 0; i < 5; i++) {
                setTimeout(() => createPetal(true), i * 100);
            }
            
            // Update love meter
            updateLoveMeter();
            
            // Check if all pieces collected
            if (collectedCount === puzzlePieces.length) {
                completeLoveStory();
            }
        }

        // Update love meter
        function updateLoveMeter() {
            const percentage = (collectedCount / puzzlePieces.length) * 100;
            document.getElementById('loveMeter').style.width = percentage + '%';
            document.getElementById('lovePercentage').textContent = Math.round(percentage) + '%';
        }

        // Show message in message box
        function showMessage(msg) {
            const messageBox = document.getElementById('messageBox');
            messageBox.style.opacity = '0';
            setTimeout(() => {
                messageBox.textContent = msg;
                messageBox.style.opacity = '1';
            }, 200);
        }

        // Complete love story
        function completeLoveStory() {
            showMessage('üíñ OUR LOVE STORY IS COMPLETE! üíñ');
            document.getElementById('completionMessage').style.display = 'block';
            
            // Create celebration petals
            for (let i = 0; i < 30; i++) {
                setTimeout(() => createPetal(true), i * 100);
            }
            
            // Update message
            setTimeout(() => {
                document.getElementById('messageBox').innerHTML = 'üíë And they lived happily ever after... üíë';
            }, 1000);
        }

        // Close completion popup
        window.closeCompletion = function() {
            document.getElementById('completionMessage').style.display = 'none';
            showMessage('üíï Forever and always, my love! üíï');
        }

        // Create rose petals (background)
        function createPetal(isHeart = false) {
            const petal = document.createElement('div');
            petal.className = 'petal';
            
            if (isHeart) {
                petal.style.background = 'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23ff4d6d" d="M50 20 C30 20 15 35 15 55 C15 75 30 90 50 90 C70 90 85 75 85 55 C85 35 70 20 50 20 Z"/></svg>\')';
            }
            
            petal.style.left = Math.random() * 100 + '%';
            petal.style.animationDuration = (Math.random() * 3 + 4) + 's';
            petal.style.width = (Math.random() * 30 + 15) + 'px';
            petal.style.height = petal.style.width;
            
            document.getElementById('petals').appendChild(petal);
            
            setTimeout(() => {
                petal.remove();
            }, 8000);
        }

        // Create background petals every 500ms
        setInterval(createPetal, 500);

        // Surprise button - shows random romantic message
        document.getElementById('surpriseBtn').addEventListener('click', function() {
            surpriseCount++;
            
            const surprises = [
                "üíñ You're the most beautiful person in my world!",
                "üíó Every day with you is Valentine's Day!",
                "üíì I thank the stars every night for bringing you to me",
                "üíï You make my heart smile!",
                "üíò I fell in love with you, and I keep falling more every day",
                "üíù You're my today and all of my tomorrows",
                "üíû My love for you has no expiration date",
                "üíñ You're the reason I believe in love",
                "üíó I love you more than all the stars in the sky"
            ];
            
            if (surpriseCount % 3 === 0) {
                // Special surprise
                showMessage('üéÅ SURPRISE! You get a free puzzle piece! üéÅ');
                // Find first uncollected piece
                const uncollected = puzzlePieces.find(p => !p.collected);
                if (uncollected) collectPiece(uncollected.id);
            } else {
                const random = surprises[Math.floor(Math.random() * surprises.length)];
                showMessage(random);
            }
            
            // Create heart burst
            for (let i = 0; i < 10; i++) {
                setTimeout(() => createPetal(true), i * 50);
            }
        });

        // Our song button - plays romantic message
        document.getElementById('playMusicBtn').addEventListener('click', function() {
            showMessage('üéµ "Perfect" by Ed Sheeran - Our song üéµ');
            
            // Simulate music notes
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const note = document.createElement('div');
                    note.style.position = 'fixed';
                    note.style.left = Math.random() * 100 + '%';
                    note.style.bottom = '0';
                    note.style.color = '#d4af37';
                    note.style.fontSize = '30px';
                    note.style.zIndex = '1000';
                    note.innerHTML = ['üéµ', 'üé∂', '‚ô™', '‚ô´'][Math.floor(Math.random() * 4)];
                    note.style.animation = 'fall 2s linear';
                    document.body.appendChild(note);
                    setTimeout(() => note.remove(), 2000);
                }, i * 200);
            }
        });

        // SHARE FUNCTIONALITY - Generate real shareable link
        document.getElementById('shareLink').value = window.location.href;
        
        document.getElementById('copyBtn').addEventListener('click', function() {
            const linkInput = document.getElementById('shareLink');
            linkInput.select();
            linkInput.setSelectionRange(0, 99999);
            
            try {
                navigator.clipboard.writeText(linkInput.value).then(() => {
                    const originalText = this.textContent;
                    this.textContent = '‚úÖ Copied!';
                    this.style.background = '#28a745';
                    
                    setTimeout(() => {
                        this.textContent = originalText;
                        this.style.background = '#982b4b';
                    }, 2000);
                    
                    showMessage('üíù Link copied! Send it to your love! üíù');
                });
            } catch (err) {
                document.execCommand('copy');
                alert('Link copied! Share it with your girlfriend! üíï');
            }
        });

        // Initialize the game
        initPuzzle();
        showMessage('üíå Collect all 9 memories to complete our love story! üíå');

        // Add romantic easter egg - click on names
        document.querySelector('.names').addEventListener('click', function() {
            showMessage('üíñ I LOVE YOU ' + HER_NAME.toUpperCase() + '! üíñ');
            for (let i = 0; i < 15; i++) {
                setTimeout(() => createPetal(true), i * 50);
            }
        });

        // Customize couple names (update this with your names)
        // Just edit the variables at the top: YOUR_NAME and HER_NAME
    </script>
    <!-- JAVASCRIPT ENDS HERE -->
</body>
</html>
